<template name="user">

	{{> navbar}}

	<div class="row m-0">
		<div class="col-md-12 col-xs-12 splash-us p-3 background-screen" id="back0" >
			<table style="height: 100%; width: 100%;" >
				<tbody>
					<tr>
						<td class="align-middle text-center">
							<h2 class="cw m-0">{{userPageName}}</h2>
							<p class="cw m-0">{{userPageUsername}}</p>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

	<hr> <!-- Arranjar alternativa decente para isto -->

	<div class="row m-0">
		<div class="col-md-3 offset-md-1">
			<div class="list-group">
				<ul class="list-group">
					<li class="list-group-item">Nome de Utilizador: {{userPageUsername}}</li>
					<li class="list-group-item">Nome: {{userPageName}}</li>
					<li class="list-group-item">Email: {{userPageEmail}}</li>
					<li class="list-group-item">Telefone: {{userPagePhone}}</li>
					<li class="list-group-item">Encomendas Entregues: {{tripHistoryCount}}</li>
					<li class="list-group-item">Código Postal: {{userPageNIF}}</li>
				</ul>
			</div>
			<hr>
			<div class="list-group">

				<p  id="userHistory" class="list-group-item list-group-item-action tweakOptions hvr-fade">Histórico de Viagens</p>

				{{#if checkUser}}
				
				<p id="userOffersMade" class="list-group-item list-group-item-action tweakOptions hvr-fade">Ofertas Pendentes</p>
				
				<p id="inTransitOffers" class="list-group-item list-group-item-action tweakOptions hvr-fade">Viagens/Encomendas a decorrer</p>

				<p id="userLogout" class="list-group-item list-group-item-action tweakOptions hvr-fade">Logout</p>

				{{/if}}
			</div>
		</div>
		<div class="col-md-7">

			{{> Template.dynamic template=main}}

		</div>
	</div>

</template>


<template name="pendingRequests">

	<table class="table table-striped">
		<thead>
			<tr>
				<th>Tipo</th>
				<th>User</th>
				<th>Estado</th>
			</tr>
		</thead>
		<tbody>
			{{#each allRequests}}
				<tr>
					<th scope="row">{{type}}</th>
					<td>{{userB}}</td>
					<td>{{state}}</td>
					<td class="openChat" id="{{_id}}" style="cursor:pointer"><i class="fa fa-comments-o" id="{{_id}}" aria-hidden="true" title="Discutir proposta"></i></td>
					<!--

					<td class="createTransaction" id="{{_id}}" style="cursor:pointer"><i class="fa fa-handshake-o" id="{{_id}}" aria-hidden="true"></i></td>

					-->
				</tr>
			{{/each}}
		</tbody>
	</table>

</template>



<template name="pendingOffers">

	<table class="table table-striped">
		<thead>
			<tr>
				<th>Tipo</th>
				<th>User A</th>
				<th>user B</th>
				<th>Estado</th>
			</tr>
		</thead>
		<tbody>
			{{#each allRequests}}
				<tr>
					<th scope="row">{{type}}</th>
					<td>{{userA}}</td>
					<td>{{userB}}</td>
					<td>{{state}}</td>
				</tr>
			{{/each}}
		</tbody>
	</table>

</template>

<template name="finishedTrips">

	<table class="table table-striped">
		<thead>
			<tr>
				<th>Tipo</th>
				<th>User A</th>
				<th>user B</th>
				<th>Estado</th>
			</tr>
		</thead>
		<tbody>
			{{#each tripHistory}}
				<tr>
					<th scope="row">{{type}}</th>
					<td>{{userA}}</td>
					<td>{{userB}}</td>
					<td>{{state}}</td>
				</tr>
			{{/each}}
		</tbody>
	</table>

</template>


<template name="acceptedTrips">

	<table class="table table-striped">
		<thead>
			<tr>
				<th>Tipo</th>
				<th>User A</th>
				<th>user B</th>
				<th>Estado</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			{{#each tripAccepted}}
				<tr>
					<th scope="row">{{type}}</th>
					<td>{{userA}}</td>
					<td>{{userB}}</td>
					<td>{{state}}</td>
					<td class="closeTransaction" id="{{_id}}" style="cursor:pointer"><i class="fa fa-check" id="{{_id}}" aria-hidden="true" title="Confirmar chegada da encomenda"></i></td>
				</tr>
			{{/each}}
		</tbody>
	</table>

</template>